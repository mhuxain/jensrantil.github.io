<!DOCTYPE html>
<html lang="en">
<head>
	<link rel="stylesheet" type="text/css" href="http://jensrantil.github.io/theme/css/style.css">
	<!--<link rel="stylesheet/less" type="text/css" href="/theme/css/style.less">-->
	<!--<script src="/theme/js/less.js" type="text/javascript"></script>-->
	<link rel="stylesheet" type="text/css" href="http://jensrantil.github.io/theme/css/pygments.css">
	<link href='http://fonts.googleapis.com/css?family=Open+Sans:800,400,300|Inconsolata' rel='stylesheet' type='text/css'>

	<link href="http://jensrantil.github.io/" type="application/atom+xml" rel="alternate" title="Jens Rantil's Hideout ATOM Feed" />
	
	
			<title>Jens Rantil's Hideout</title>
		<meta charset="utf-8" />
	</head>
<body>
	<section id="sidebar">
		<figure id="user_logo">
            <a href="http://jensrantil.github.io"><div class="logo">&nbsp;</div></a>
		</figure>

		<div class="user_meta">
            <h1 id="user"><a href="http://jensrantil.github.io" class="">Jens Rantil</a></h1>
			<h2></h2>
						<p class="bio">Swedish/English, fullstack software engineer (<a href="http://www.telavox.se" target="_blank">@Telavox</a>), <a href="http://www.lth.se/english/education/programmes/master_engineering/engineering_mathematics/">MSc in Engineering Mathematics</a>, traveller, nerd, juggler, guitarist, african drum player. Inspired Swede.</p>
						<ul>
																			<li><a href="http://jensrantil.github.io/pages/about-jens.html">About Jens</a></li>
																		<li><a href="http://www.twitter.com/JensRantil">Twitter</a></li>
									<li><a href="http://www.github.com/JensRantil">Github</a></li>
									<li><a href="http://www.linkedin.com/in/jensrantil">LinkedIn</a></li>
							</ul>
		</div>
		<footer>
			<address>
				Powered by <a href="http://pelican.notmyidea.org/">Pelican</a>,
		                theme by <a href="https://github.com/wting/pelican-svbtle">wting</a>.
			</address>
		</footer>
	</section>

	<section id="posts">
			<header>
		<h1>Jens Rantil's blog</h1>
		<h3>Posted Wed 21 August 2013</h3>
	</header>
	<article>
		<h1 id="title">
			<a href="http://jensrantil.github.io/writing-a-server-in-python.html" rel="bookmark"
				title="Permalink to Writing a server in Python">Writing a server in Python</a>
		</h1>
		<p><em>This post is partially related to my `previous blog post`_ about
Rewind_.</em></p>
<p>One of the questions that might hit you is <em>why would you ever write a
server in Python?</em>. I've heard many people being raising their concerns
when it comes to Python. The biggest ones are obviously concurrency and
the <a class="reference external" href="http://wiki.python.org/moin/GlobalInterpreterLock">GIL</a>. I've also heard arguments related to lack of strict typing,
that Java has better IDE support (partially due to...strict typing) and
the sheer amount of libraries that other languages, such as Java, has.</p>
<p>Coming from mostly a Java background when it comes to bigger systems,
this is a question I've been asking myself too and Rewind gave me some
time to review this. Some of my reasons for choosing Python (mostly, as
opposed to Java) were:</p>
<ul class="simple">
<li>I was tired of slow development feedback from coding in Java. Starting
the JVM takes ages. If you've ever been developing for a runtime
environment that boots fast, you know what I'm talking about. I've seen
the light and slow development tools kills me.</li>
<li>I wanted to try out new creative ways to do testing. This involved
enforcing coding standards through tests that sometimes required some
introspection.</li>
<li>I wanted to try out full TDD. There were plenty of Python tools for
this job, including great <cite>mocking</cite> utilities.</li>
<li>I've been a big fan of Python for a long time. I wanted to see if it
stood the test also for server backend services.</li>
<li>Requiring all code to reside in classes is...ridiculous:<ul>
<li>Not all methods requires state and my personal opinion is that
functional paradigm is easier for beginning programmers to
understand. Not to mention that functional style of programming
easily can encapsulate, too, in its own way.</li>
<li>Proper object oriented desing is <em>hard</em> and takes practise. Sadly,
most programmers have never read the <a class="reference external" href="http://www.amazon.com/Design-Patterns-Elements-Reusable-Object-Oriented/dp/0201633612">Gang of Four book</a> and while
beginner's Java books try to describe concepts such as encapsulation,
polymorphism etc. the books don't really make a good job of
explaining them. The simple concepts are easy.  Designing APIs and
bigger applications is hard. It's taken me a long time and I'm still
making mistakes.</li>
</ul>
</li>
<li>Great support for <a class="reference external" href="http://www.zeromq.org">ZeroMQ</a>.</li>
</ul>
<p>Would Python stand the test for a rather performant server software? I
think so.  In Rewind's case I made the assumption that all events would
be persisted as one single event stream. Harddrives are great at
append-only storage and I was not that worried about concurrency. The
concurrency requirements lay in the fanout message pattern used to
notify event listeners of newly persisted events. ZeroMQ would deal with
that very well. This meant I could/would sleep well at night, not
worrying about the Python <a class="reference external" href="http://wiki.python.org/moin/GlobalInterpreterLock">GIL</a>.</p>
<div class="section" id="with-great-server-comes-great-responsibility">
<h2>With great server comes great responsibility</h2>
<p>The above said, a server requires strict testing to make sure you can be
confident that server works as expected. Since Python is a dynamically
types language, this puts an extra pressure on testing. Using test
coverage as a metric is almost a must.</p>
</div>


		<div id="article_meta">
							Category:
					<a href="http://jensrantil.github.io/category/misc.html">misc</a>
										<br />Tags:
									<a href="http://jensrantil.github.io/tag/python.html">python</a>
									<a href="http://jensrantil.github.io/tag/java.html">java</a>
									</div>
	</article>

	<div class="donations">
		Dude, did you like this blog post? Feel free to
		drop me some bitcoins on
		<a href="bitcoin:1Q79HGDF3ZjfCwXLAW6e7gX4DeDu2GtZ7v">1Q79HGDF3ZjfCwXLAW6e7gX4DeDu2GtZ7v</a>.
	</div>

	<footer>
		<a href="http://jensrantil.github.io/" class="button_accent">&larr;&nbsp;&nbsp;&nbsp;Back to blog</a>
	</footer>

		<div id="comments">
		<h2>Comments</h2>
		<div id="disqus_thread"></div>
		<script type="text/javascript">
			var disqus_identifier = "writing-a-server-in-python.html";
			(function() {
				var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
				dsq.src = 'http://jensrantil.disqus.com/embed.js';
				(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
			})();
		</script>
		<noscript>Please enable JavaScript to view <a href="http://disqus.com/?ref_noscript">comments</a>.</noscript>
	</div>
	
	</section>

	<script type="text/javascript">
	var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
	document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
	</script>
	<script type="text/javascript">
		try {
			var pageTracker = _gat._getTracker("UA-40929103-1");
			pageTracker._trackPageview();
		} catch(err) {}</script>
</body>
</html>