<!DOCTYPE html>
<html lang="en">
<head>
                <title>Jens Rantil's Hideout</title>
        <!-- Fonts -->
        <link href='http://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
        <link href='http://fonts.googleapis.com/css?family=The+Girl+Next+Door' rel='stylesheet' type='text/css'>
        
        <!-- CSS -->
        <link rel="stylesheet" href="http://jensrantil.github.io/theme/css/main.css" type="text/css" />
        <link rel="stylesheet" href="http://jensrantil.github.io/theme/css/pygments.css" type="text/css" />
        <link rel="stylesheet" href="http://jensrantil.github.io/theme/css/font-awesome.css" type="text/css" />
        <meta charset="utf-8" />
      
                <link href="http://jensrantil.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
        
        <!-- Javascript-->
        <script src="http://jensrantil.github.io/theme/js/invisible-menu-scroll.js"></script>
        <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
        <script type="text/javascript"> 
          $(function() {
            invisibleMenu();
          });
        </script> 
        </head>

<body id="index" class="home">
         <div class="navigation">
        <ol class="nav">
          <li class="current"><a href="http://jensrantil.github.io">Blog</a> </li>
          <li><a href="http://jensrantil.github.io/archives.html">Archive</a></li>
          <li><a href="http://jensrantil.github.io/tags.html">Tags</a> </li>
          <li><a href="">RSS</a> </li>
        </ol>
      </div>
        <header id="banner" class="body">
                <div class="banner"><a href="http://jensrantil.github.io">Jens Rantil's Hideout <strong></strong></a></div>
        </header><!-- /#banner -->
        <nav id="menu"><ul>
                                      <li><a href="http://jensrantil.github.io/pages/about-jens.html">About Jens</a></li>
                          </ul></nav><!-- /#menu -->
        <div class="box">
            <section id="content" class="body">
  <header class="post">
    <h2 class="entry-title">
      Replacing a folder in Subversion
    </h2>
  </header>
  <footer class="post-info">
    <abbr>
      Mon 22 September 2008 
    </abbr>
  </footer><!-- /.post-info -->
  <div class="entry-content">
    <p>So you have an external library foo version 1.0 that you have committed
to your Subversion repository together with your code. Let us for
simplicity say that your external library is situated in its own folder.</p>
<p>One day you realize that there is a new version 2.0 of foo released. You
download it and since there was a while ago a lot of the file structure
in the foo project has changed. How can you replace the files in your
current repository in a good looking fashion?</p>
<p>Now you could remove the old foo-library. Commit, and import the new
version of foo. But for me I always think it's important that a commit
is correctly reflecting a change. And I would say that upgrading the foo
library should be done in ONE commit. How do you do this? It turns out
it's a pretty hard problem and something that does not exist in todays
Subversion.</p>
<p>I solved this by running <tt class="docutils literal">rsync</tt> from the new library folder to the old
library folder, ignoring the <tt class="docutils literal">.svn</tt>-folders:</p>
<div class="highlight"><pre><span class="nv">$ </span>rsync -vlr --exclude<span class="o">=</span>.svn --delete foo_new/ foo_old/
</pre></div>
<p>Executing</p>
<div class="highlight"><pre><span class="nv">$ </span>svn status
</pre></div>
<p>then gave a me a list of all newly added files (question marks), removed
files (conflicts/exclamation marks) and changed files (M, as in
modified). The added files and removed files then manually had to be
added/removed in my local checkout before committing - something that
could have been scripted if I wasn't doing this at 2:30 in the morning
:-)</p>
<p>Please comment if you do have a better solution.</p>

  </div><!-- /.entry-content -->
<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'jensrantil'; 

    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</section>
            <hr/>
            <footer id="contentinfo" class="footer">
                <div>
                    <a href="http://jensrantil.github.io">Jens Rantil</a> (2012)
                </div>
                <div>
                    This work is licensed under <a rel="license" href="http://opensource.org/licenses/bsd-3-clause">3 clause BSD</a>. Source code available on <a rel="source code" href="https://github.com/slok/blog">Github</a>
                </div>
                <div>
                    powered by <a href="http://getpelican.com/">Pelican</a>
                    and <a href="http://python.org">Python</a>. 
                    <a href="http://github.com/slok/iris">Theme</a> by <a href="http://xlarrakoetxea.org">Xabier Larrakoetxea</a> based on <a href="http://flask.pocoo.org/">Flask</a> theme
                </div>
                <div>
                    Social icons (font awesome) by <a href="http://fortawesome.github.com/Font-Awesome/"> fort awesome<a>.
                    <a href="http://www.google.com/webfonts/specimen/The+Girl+Next+Door">Title</a> and <a href="http://www.google.com/webfonts/specimen/Inconsolata">source code</a> fonts by google fonts
                </div>
                <div class="social">
                                            <a href="#"><i class="icon-You can add links in your config file"></i>  </a>
                                            <a href="#"><i class="icon-Another social link"></i>  </a>
                                                        </div>
            </footer><!-- /#contentinfo -->
        </div>
        <!--Add statistycs-->
        </body>
</html>